<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Editar Servi√ßo - {{ servico.nome }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin:0; padding:0; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #000; color: #fff; }
        .container { max-width: 900px; margin: 2rem auto; padding: 1rem; }
        .card { background: rgba(255,255,255,0.03); border:1px solid rgba(139, 92, 246,0.12); padding:1.5rem; border-radius:12px; }
        label { display:block; margin-bottom:0.5rem; color: rgba(255, 255, 255,0.9); font-weight:600 }
        input { width:100%; padding:0.75rem; border-radius:8px; border:1px solid rgba(139, 92, 246,0.12); background:rgba(255,255,255,0.05); color: #fff }
        .row { display:grid; grid-template-columns: 1fr 120px; gap:0.75rem; align-items:center }
        button { margin-top:1rem; padding:0.75rem 1rem; border-radius:8px; border:none; cursor:pointer; font-weight:700 }
        .btn-primary { background:var(--cor-primaria); color:#ffffff }
        .btn-cancel { background: transparent; border:1px solid rgba(255,255,255,0.1); color: #fff; margin-left:0.5rem; text-decoration: none; padding: 0.75rem 1rem; border-radius: 8px; display: inline-block; }
    </style>
</head>
<body>
<style>
:root {
    --cor-primaria: {{ barbearia.cor_primaria or '#8b5cf6' }};
    --cor-secundaria: {{ barbearia.cor_secundaria or '#A78BFA' }};
    --cor-texto: {{ barbearia.cor_texto or '#ffffff' }};
}
</style>


    {% set extra_nav_html %}
        <a href="javascript:history.back();">‚Üê Voltar</a>
        <a href="{{ url_for('dashboard', slug=barbearia.slug if barbearia else get_current_barbearia_slug()) }}">üìä Dashboard</a>
    {% endset %}
    {% include 'cliente/_navbar.html' %}

    <div class="container">
        <h1 style="color:var(--cor-primaria); margin-bottom:1rem">Editar Servi√ßo</h1>
        <div class="card">
            <form method="POST" data-loading="true" data-loading-text="Salvando altera√ß√µes..." data-loading-subtext="Atualizando servi√ßo">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                <div class="form-group">
                    <label for="nome">Nome do Servi√ßo</label>
                    <input id="nome" name="nome" type="text" value="{{ servico.nome }}" required />
                </div>
                <div class="form-group" style="margin-top:0.75rem">
                    <label for="preco">Pre√ßo (R$)</label>
                    <input id="preco" name="preco" type="text" value="{{ '%.2f'|format(servico.preco) }}" required />
                </div>
                <div style="margin-top:0.75rem">
                    <label for="duracao">Dura√ß√£o (min)</label>
                    <input id="duracao" name="duracao" type="number" value="{{ servico.duracao }}" />
                </div>
                <div style="display:flex; gap:0.5rem">
                    <button type="submit" class="btn-primary">Salvar altera√ß√µes</button>
                    <a href="{{ url_for('servicos') }}" class="btn-cancel">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
    <div id="loading-overlay" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.9);z-index:999999;justify-content:center;align-items:center;flex-direction:column;-webkit-transform:translateZ(0);transform:translateZ(0)"><div style="width:60px;height:60px;border:5px solid rgba(255,255,255,0.3);border-top:5px solid #8B5CF6;border-radius:50%;animation:spin 1s linear infinite;-webkit-animation:spin 1s linear infinite"></div><div class="loading-text" style="color:#fff;font-size:1.2rem;font-weight:700;margin-top:1.5rem">Aguarde...</div><div class="loading-subtext" style="color:rgba(255,255,255,0.8);font-size:0.95rem;margin-top:0.5rem">Processando</div></div><style>@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}</style><script>window.LoadingOverlay={show:function(t,s){var o=document.getElementById('loading-overlay');if(o){o.querySelector('.loading-text').textContent=t||'Aguarde...';o.querySelector('.loading-subtext').textContent=s||'Processando';o.style.display='flex'}},hide:function(){var o=document.getElementById('loading-overlay');if(o)o.style.display='none'}};document.addEventListener('DOMContentLoaded',function(){var l=document.querySelectorAll('a[data-loading="true"],form[data-loading="true"]');for(var i=0;i<l.length;i++){(function(e){var h=function(){window.LoadingOverlay.show(e.getAttribute('data-loading-text')||'Carregando...',e.getAttribute('data-loading-subtext')||'Aguarde')};e.addEventListener(e.tagName==='A'?'click':'submit',h,false)})(l[i])}});</script>
</body>
</html>
